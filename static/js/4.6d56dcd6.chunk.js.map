{"version":3,"sources":["components/Form/styles.module.css","components/Form/Form.tsx"],"names":["module","exports","Form","dispatch","useDispatch","sex","useSelector","selectChosenSex","lang","selectChosenLang","countriesList","selectCountriesList","birthDate","selectBirthDate","country","selectCountry","useState","format","localBirthDate","setLocalBirthDate","className","styles","formComponent","subTitle","formTitle","formWrapper","formRow","Select","onChange","event","target","value","choseCountry","list","currentValue","title","formNames","choseSex","formSexList","formSex","clsx","dateWrapper","formDate","type","valueAsDate","birthDateSaga","Button","buttonText","formButton","buttonOnClickHandler","searchRequestSaga","memo"],"mappings":"kHACAA,EAAOC,QAAU,CAAC,cAAgB,8BAA8B,YAAc,4BAA4B,QAAU,wBAAwB,SAAW,yBAAyB,YAAc,8B,0LCiCxLC,EAAiB,WACrB,IAAMC,EAAWC,cAEXC,EAAMC,YAAYC,KAClBC,EAAOF,YAAYG,KACnBC,EAAgBJ,YAAYK,KAC5BC,EAAYN,YAAYO,KACxBC,EAAUR,YAAYS,KAc5B,EAA4CC,mBAC1CC,YAAOL,EAAW,eADpB,mBAAOM,EAAP,KAAuBC,EAAvB,KAiBA,OACE,0BAASC,UAAWC,IAAOC,cAA3B,UACE,oBAAIF,UAAWC,IAAOE,SAAtB,SAAiCC,IAAUhB,KAE3C,uBAAMY,UAAWC,IAAOI,YAAxB,UACE,qBAAKL,UAAWC,IAAOK,QAAvB,SACE,cAACC,EAAA,EAAD,CACEC,SApCc,SAACC,GACnBA,EAAMC,OAAOC,OACf5B,EAAS6B,YAAaH,EAAMC,OAAOC,SAmC7BE,KAAMvB,EACNwB,aAAcpB,EACdqB,MAAOC,IAAU5B,OAIrB,qBAAKY,UAAWC,IAAOK,QAAvB,SACE,cAACC,EAAA,EAAD,CACEC,SAvCU,SAACC,GACfA,EAAMC,OAAOC,OACf5B,EAASkC,YAASR,EAAMC,OAAOC,SAsCzBE,KAAMK,IAAY9B,GAClB0B,aAAc7B,EACd8B,MAAOI,IAAQ/B,OAInB,sBAAKY,UAAWoB,YAAKnB,IAAOK,QAASL,IAAOoB,aAA5C,UACE,gCAAQC,IAASlC,KACjB,uBACEmC,KAAK,OACLf,SAxCgB,SAACC,GACrBA,EAAMC,OAAOc,cACfzC,EAAS0C,YAAchB,EAAMC,OAAOc,cACpCzB,GAAkB,kBAChBF,YAAOY,EAAMC,OAAOc,YAAqB,mBAqCrCb,MAAOb,UAKb,cAAC4B,EAAA,EAAD,CACEC,WAAYC,IAAWxC,GACvByC,qBAvCmB,WACvB9C,EAAS+C,sBA4CEC,iBAAKjD","file":"static/js/4.6d56dcd6.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"formComponent\":\"styles_formComponent__CFDWI\",\"formWrapper\":\"styles_formWrapper__L39V6\",\"formRow\":\"styles_formRow__WqQ-0\",\"subTitle\":\"styles_subTitle__sgl2k\",\"dateWrapper\":\"styles_dateWrapper__1Psbr\"};","import React, { memo, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { format } from 'date-fns';\nimport clsx from 'clsx';\n\nimport {\n  formButton,\n  formDate,\n  formNames,\n  formSex,\n  formSexList,\n  formTitle\n} from '../../constants/form';\n\nimport { Button } from '../../ui/Button';\nimport Select from '../../ui/Select';\n\nimport {\n  selectChosenSex,\n  selectChosenLang,\n  selectCountriesList,\n  selectBirthDate,\n  selectCountry\n} from '../../store/Search/selectors/selectors';\n\nimport {\n  choseSex,\n  birthDateSaga,\n  choseCountry,\n  searchRequestSaga\n} from '../../store/Search/ducks';\n\nimport styles from './styles.module.css';\n\nconst Form: React.FC = () => {\n  const dispatch = useDispatch();\n\n  const sex = useSelector(selectChosenSex);\n  const lang = useSelector(selectChosenLang);\n  const countriesList = useSelector(selectCountriesList);\n  const birthDate = useSelector(selectBirthDate);\n  const country = useSelector(selectCountry);\n\n  const choseNewCountry = (event: React.ChangeEvent<HTMLSelectElement>) => {\n    if (event.target.value) {\n      dispatch(choseCountry(event.target.value));\n    }\n  };\n\n  const choseNewSex = (event: React.ChangeEvent<HTMLSelectElement>) => {\n    if (event.target.value) {\n      dispatch(choseSex(event.target.value));\n    }\n  };\n\n  const [localBirthDate, setLocalBirthDate] = useState(\n    format(birthDate, 'yyyy-MM-dd')\n  );\n\n  const choseNewBirthDate = (event: React.ChangeEvent<HTMLInputElement>) => {\n    if (event.target.valueAsDate) {\n      dispatch(birthDateSaga(event.target.valueAsDate));\n      setLocalBirthDate(() =>\n        format(event.target.valueAsDate as Date, 'yyyy-MM-dd')\n      );\n    }\n  };\n\n  const calculateHandler = () => {\n    dispatch(searchRequestSaga());\n  };\n\n  return (\n    <section className={styles.formComponent}>\n      <h2 className={styles.subTitle}>{formTitle[lang]}</h2>\n\n      <form className={styles.formWrapper}>\n        <div className={styles.formRow}>\n          <Select\n            onChange={choseNewCountry}\n            list={countriesList}\n            currentValue={country}\n            title={formNames[lang]}\n          />\n        </div>\n\n        <div className={styles.formRow}>\n          <Select\n            onChange={choseNewSex}\n            list={formSexList[lang]}\n            currentValue={sex}\n            title={formSex[lang]}\n          />\n        </div>\n\n        <div className={clsx(styles.formRow, styles.dateWrapper)}>\n          <label>{formDate[lang]}</label>\n          <input\n            type=\"date\"\n            onChange={choseNewBirthDate}\n            value={localBirthDate}\n          />\n        </div>\n      </form>\n\n      <Button\n        buttonText={formButton[lang]}\n        buttonOnClickHandler={calculateHandler}\n      />\n    </section>\n  );\n};\n\nexport default memo(Form);\n"],"sourceRoot":""}