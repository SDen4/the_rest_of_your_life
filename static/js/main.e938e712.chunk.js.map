{"version":3,"sources":["components/Form/Form.module.css","components/WeeksTable/WeeksTable.module.css","components/Result/assets/ResultText/ResultText.module.css","components/Disclaimer/Disclaimer.module.css","components/Result/Result.module.css","ui/Button/Button.module.css","components/App/App.module.css","store/MainReducer/constants.ts","store/MainReducer/actions.ts","ui/Button/Button.tsx","constants/disclaimer.ts","components/Disclaimer/Disclaimer.tsx","constants/form.ts","ui/Select/Select.tsx","utils/currentSexForSearch.ts","components/Form/Form.tsx","constants/result.ts","components/WeeksTable/WeeksTable.tsx","components/Result/assets/ResultText/ResultText.tsx","components/Result/Result.tsx","components/App/App.tsx","store/MainReducer/MainReducer.ts","store/RootReducer.ts","index.tsx"],"names":["module","exports","OPEN_FORM","OPEN_RESULT","CHOSE_COUNTRY","CHOSE_SEX","CHOSE_BIRTH_DATE","SAVE_RESULT","openForm","formFlag","type","openResult","resultFlag","Button","buttonText","buttonOnClickHandler","onClick","className","styles","button","DisclaimerText","rus","eng","DisclaimerButtonText","Disclaimer","dispatch","useDispatch","disclaimerText","split","map","el","length","text","trim","buttonWrapper","formNames","formTitle","formSex","formSexList","formButton","formDate","Select","title","choseNewSex","currentValue","onChange","value","currentSexForSearch","currentSex","toLocaleLowerCase","Form","store","formComponent","subTitle","formWrapper","formRow","event","chosenCountry","target","countriesList","chosenSex","birthDate","console","log","valueAsDate","totalData","data","fact","filter","dims","COUNTRY","SEX","GHO","sort","a","b","YEAR","valueYears","Number","Value","statYear","saveResult","resultButton","resultIn","resultText1","resultTextMan","resultTextWoman","resultTextIs","resultTextYears","resultTextData","resultTextYearRus","resultTextWho","resultTextFor","resultTextLivedMan","resultTextLivedWoman","resultTextCons","resultTextAfterPers","WeeksTable","userYears","roundUserYears","Math","ceil","tableCols","i","push","tableCell","height","restWeeks","floor","tableColsRest","clsx","tableFullCellRest","weeksTableWrapper","rowsNum","arrToRender","row","tableFullCell","tableInners","ResultText","color","toFixed","Result","resultWrapper","tableWrapper","App","storeState","useSelector","main","appWrapper","dataCountriesList","Array","from","Set","InitialState","currentDate","Date","RootReducer","combineReducers","state","action","end","getTime","start","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","createStore","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.e938e712.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"formComponent\":\"Form_formComponent__f3zp3\",\"formWrapper\":\"Form_formWrapper__1ZjUZ\",\"formRow\":\"Form_formRow__tzTQf\",\"subTitle\":\"Form_subTitle__3xQx5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"tableCell\":\"WeeksTable_tableCell__30vVm\",\"tableFullCell\":\"WeeksTable_tableFullCell__1KuKw\",\"tableFullCellRest\":\"WeeksTable_tableFullCellRest__2Np6n\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"color\":\"ResultText_color__33ocw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"disclaimerText\":\"Disclaimer_disclaimerText__1qxLh\",\"buttonWrapper\":\"Disclaimer_buttonWrapper__1ywmN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"tableWrapper\":\"Result_tableWrapper__2lkuz\",\"resultWrapper\":\"Result_resultWrapper__HbqTI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__1Y5Fm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"appWrapper\":\"App_appWrapper__1FF17\"};","export const OPEN_FORM = 'OPEN_FORM';\nexport const OPEN_RESULT = 'OPEN_RESULT';\n\nexport const CHOSE_COUNTRY = 'CHOSE_COUNTRY';\nexport const CHOSE_SEX = 'CHOSE_SEX';\nexport const CHOSE_BIRTH_DATE = 'CHOSE_BIRTH_DATE';\n\nexport const SAVE_RESULT = 'SAVE_RESULT';\n","import {\n  OPEN_FORM,\n  CHOSE_COUNTRY,\n  CHOSE_SEX,\n  SAVE_RESULT,\n  CHOSE_BIRTH_DATE,\n  OPEN_RESULT,\n} from './constants';\n\nexport const openForm = (formFlag: boolean) => {\n  return {\n    type: OPEN_FORM,\n    formFlag,\n  } as const;\n};\n\nexport const openResult = (resultFlag: boolean) => {\n  return {\n    type: OPEN_RESULT,\n    resultFlag,\n  } as const;\n};\n\nexport const choseCountry = (chosenCountry: string) => {\n  return {\n    type: CHOSE_COUNTRY,\n    chosenCountry,\n  } as const;\n};\n\nexport const choseSex = (chosenSex: string) => {\n  return {\n    type: CHOSE_SEX,\n    chosenSex,\n  } as const;\n};\n\nexport const saveResult = (valueYears: number, statYear: number) => {\n  return {\n    type: SAVE_RESULT,\n    valueYears,\n    statYear,\n  } as const;\n};\n\nexport const choseBirthDate = (birthDate: Date) => {\n  return {\n    type: CHOSE_BIRTH_DATE,\n    birthDate,\n  } as const;\n};\n\ntype openFormType = ReturnType<typeof openForm>;\ntype openResultType = ReturnType<typeof openResult>;\ntype choseCountryType = ReturnType<typeof choseCountry>;\ntype choseSexType = ReturnType<typeof choseSex>;\ntype saveResultType = ReturnType<typeof saveResult>;\ntype choseBirthDateType = ReturnType<typeof choseBirthDate>;\n\nexport type ActionsType =\n  | openFormType\n  | openResultType\n  | choseCountryType\n  | choseSexType\n  | saveResultType\n  | choseBirthDateType;\n","import React from 'react';\n\nimport { IButton } from './types';\n\nimport styles from './Button.module.css';\n\nconst Button: React.FC<IButton> = ({ buttonText, buttonOnClickHandler }) => {\n  return (\n    <button\n      type=\"button\"\n      onClick={buttonOnClickHandler}\n      className={styles.button}\n    >\n      {buttonText}\n    </button>\n  );\n};\n\nexport default Button;\n","export const DisclaimerText = {\n  rus: 'Многие не задумываются, сколько им еще осталось прожить. Я и предлагаю тебе на это посмотреть. Надеюсь, ты задумаешься о том, как и на что ты тратишь самое дорогое, что есть у тебя в жизни, - твое время.',\n  eng: 'Many people do not think how long they still have to live. I suggest you look at this. I hope you will think about how and on what you spend the most precious thing in your life - your time.',\n};\n\nexport const DisclaimerButtonText = {\n  rus: 'Далее',\n  eng: 'Next',\n};\n","import React from 'react';\nimport { useDispatch } from 'react-redux';\n\nimport { openForm } from '../../store/MainReducer/actions';\n\nimport Button from '../../ui/Button';\n\nimport { DisclaimerText } from '../../constants/disclaimer';\nimport { DisclaimerButtonText } from '../../constants/disclaimer';\n\nimport styles from './Disclaimer.module.css';\n\nconst Disclaimer = () => {\n  const dispatch = useDispatch();\n\n  const buttonOnClickHandler = () => {\n    dispatch(openForm(true));\n  };\n\n  return (\n    <>\n      <div className={styles.disclaimerText}>\n        {DisclaimerText.rus.split('.').map((el) => {\n          if (!el.length) return null;\n\n          const text = `${el.trim()}.`;\n\n          return (\n            <div key={el}>\n              <br />\n              <p>{text}</p>\n            </div>\n          );\n        })}\n      </div>\n      <div className={styles.buttonWrapper}>\n        <Button\n          buttonText={DisclaimerButtonText.rus}\n          buttonOnClickHandler={buttonOnClickHandler}\n        />\n      </div>\n    </>\n  );\n};\n\nexport default Disclaimer;\n","export const formNames = {\n  rus: 'Страна',\n  eng: 'Country',\n};\n\nexport const formTitle = {\n  rus: 'Пожалуйста, заполни поля',\n  eng: 'Please, fill the form',\n};\n\nexport const formSex = {\n  rus: 'Пол',\n  eng: 'Sex',\n};\n\nexport const formSexList = {\n  rus: ['Муж', 'Жен', 'Другое'],\n  eng: ['Male', 'Female', 'Other'],\n};\n\nexport const formButton = {\n  rus: 'Рассчитать',\n  eng: 'Calculate',\n};\n\nexport const formDate = {\n  rus: 'Дата рождения',\n  eng: 'Birth date',\n};\n","import React from 'react';\n\nimport { ISelect } from './types';\n\nconst Select: React.FC<ISelect> = ({\n  title,\n  choseNewSex,\n  formSexList,\n  currentValue,\n}) => {\n  return (\n    <>\n      <label>{title}</label>\n      <select onChange={choseNewSex} value={currentValue}>\n        {formSexList.map((el) => (\n          <option value={el} key={el}>\n            {el}\n          </option>\n        ))}\n      </select>\n    </>\n  );\n};\n\nexport default Select;\n","const currentSexForSearch = (currentSex: string): string => {\n  if (\n    currentSex.toLocaleLowerCase() === 'male' ||\n    currentSex.toLocaleLowerCase() === 'муж'\n  ) {\n    return 'Male';\n  } else if (\n    currentSex.toLocaleLowerCase() === 'female' ||\n    currentSex.toLocaleLowerCase() === 'жен'\n  ) {\n    return 'Female';\n  }\n  return 'Both sexes';\n};\n\nexport default currentSexForSearch;\n","import React from 'react';\nimport { useDispatch } from 'react-redux';\n\nimport {\n  formButton,\n  formDate,\n  formNames,\n  formSex,\n  formSexList,\n  formTitle,\n} from '../../constants/form';\n\nimport data from '../../data/data.json';\n\nimport {\n  choseBirthDate,\n  choseCountry,\n  choseSex,\n  openForm,\n  openResult,\n  saveResult,\n} from '../../store/MainReducer/actions';\nimport Button from '../../ui/Button';\nimport Select from '../../ui/Select';\nimport currentSexForSearch from '../../utils/currentSexForSearch';\n\nimport styles from './Form.module.css';\nimport { IForm } from './types';\n\nconst Form: React.FC<IForm> = ({ store }) => {\n  const dispatch = useDispatch();\n\n  const choseNewCountry = (event: any) => {\n    if (event.target.value) {\n      dispatch(choseCountry(event.target.value));\n    }\n  };\n\n  const choseNewSex = (event: any) => {\n    if (event.target.value) {\n      dispatch(choseSex(event.target.value));\n    }\n  };\n\n  const choseNewBirthDate = (event: any) => {\n    console.log(event.target.valueAsDate, typeof event.target.valueAsDate);\n    if (event.target.valueAsDate) {\n      dispatch(choseBirthDate(event.target.valueAsDate));\n    }\n  };\n\n  const calculateHandler = () => {\n    let currentSex = currentSexForSearch(store.chosenSex);\n\n    // range of relevant data by years\n    const releventRange = data.fact.filter(\n      (el) =>\n        el.dims.COUNTRY === store.chosenCountry &&\n        el.dims.SEX === currentSex &&\n        el.dims.GHO === 'Life expectancy at birth (years)',\n    );\n\n    // find the data for the latest year of the range\n    const totalData = releventRange.sort((a, b) =>\n      a.dims.YEAR > b.dims.YEAR ? -1 : 1,\n    )[0];\n\n    const valueYears = Number(totalData.Value);\n    const statYear = Number(totalData.dims.YEAR);\n\n    dispatch(saveResult(valueYears, statYear));\n    dispatch(openForm(false));\n    dispatch(openResult(true));\n  };\n\n  return (\n    <div className={styles.formComponent}>\n      <h2 className={styles.subTitle}>{formTitle.rus}</h2>\n\n      <form className={styles.formWrapper}>\n        <div className={styles.formRow}>\n          <Select\n            title={formNames.rus}\n            choseNewSex={choseNewCountry}\n            formSexList={store.countriesList}\n            currentValue={store.chosenCountry}\n          />\n        </div>\n\n        <div className={styles.formRow}>\n          <Select\n            title={formSex.rus}\n            choseNewSex={choseNewSex}\n            formSexList={formSexList.rus}\n            currentValue={store.chosenSex}\n          />\n        </div>\n\n        <div className={styles.formRow}>\n          <label>{formDate.rus}</label>\n          <input type=\"date\" onChange={choseNewBirthDate} />\n        </div>\n      </form>\n\n      <Button\n        buttonText={formButton.rus}\n        buttonOnClickHandler={calculateHandler}\n      />\n    </div>\n  );\n};\n\nexport default Form;\n","export const resultButton = {\n  rus: 'Назад',\n  eng: 'Back',\n};\n\nexport const resultIn = {\n  rus: 'В',\n  eng: 'In',\n};\n\nexport const resultText1 = {\n  rus: 'средняя продолжительность жизни',\n  eng: 'the average life expectancy',\n};\n\nexport const resultTextMan = {\n  rus: 'у мужчин',\n  eng: 'for men',\n};\n\nexport const resultTextWoman = {\n  rus: 'у женщин',\n  eng: 'for women',\n};\n\nexport const resultTextIs = {\n  rus: 'составляет',\n  eng: 'is',\n};\n\nexport const resultTextYears = {\n  rus: 'лет (года)',\n  eng: 'years',\n};\n\nexport const resultTextData = {\n  rus: 'Это данные',\n  eng: 'This data is',\n};\n\nexport const resultTextYearRus = {\n  rus: 'год',\n  eng: '',\n};\n\nexport const resultTextWho = {\n  rus: 'ВОЗ',\n  eng: 'WHO',\n};\n\nexport const resultTextFor = {\n  rus: 'за',\n  eng: 'for',\n};\n\nexport const resultTextLivedMan = {\n  rus: 'Ты прожил',\n  eng: 'You have lived for',\n};\n\nexport const resultTextLivedWoman = {\n  rus: 'Ты прожила',\n  eng: 'You have lived for',\n};\n\nexport const resultTextCons = {\n  rus: 'что составляет',\n  eng: 'which is',\n};\n\nexport const resultTextAfterPers = {\n  rus: 'от среднего срока жизни указанной тобой страны',\n  eng: 'of the average life of the country you specified',\n};\n","import React from 'react';\nimport clsx from 'clsx';\n\nimport { IWeeksTable } from './types';\n\nimport styles from './WeeksTable.module.css';\n\nconst WeeksTable: React.FC<IWeeksTable> = ({ valueYears, userYears }) => {\n  const roundUserYears = Math.ceil(userYears);\n\n  const tableCols = [];\n  for (let i = 0; i < 52; i++) {\n    tableCols.push(\n      <td className={styles.tableCell} height={3} key={i + 1000} />,\n    );\n  }\n\n  const restWeeks = Math.floor((1 - (roundUserYears - userYears)) * 52);\n  const tableColsRest: any[] = [];\n  for (let i = 1; i <= 52; i++) {\n    tableColsRest.push(\n      <td\n        className={clsx(\n          styles.tableCell,\n          restWeeks > i && styles.tableFullCellRest,\n        )}\n        height={3}\n        key={i + 1000}\n      />,\n    );\n  }\n\n  const tableInners = (rowsNum: number, tableCols: any[]) => {\n    const arrToRender = [];\n    for (let i = 1; i <= rowsNum; i++) {\n      arrToRender.push(\n        <tr\n          key={i + 1}\n          className={clsx(styles.row, userYears > i && styles.tableFullCell)}\n        >\n          {i === roundUserYears ? tableColsRest : tableCols}\n        </tr>,\n      );\n    }\n    return arrToRender;\n  };\n\n  return (\n    <div className={styles.weeksTableWrapper}>\n      <table>\n        <tbody>{tableInners(valueYears, tableCols)}</tbody>\n      </table>\n    </div>\n  );\n};\n\nexport default WeeksTable;\n","import React from 'react';\nimport { formSexList } from '../../../../constants/form';\n\nimport {\n  resultIn,\n  resultText1,\n  resultTextAfterPers,\n  resultTextCons,\n  resultTextData,\n  resultTextFor,\n  resultTextIs,\n  resultTextLivedMan,\n  resultTextLivedWoman,\n  resultTextMan,\n  resultTextWho,\n  resultTextWoman,\n  resultTextYearRus,\n  resultTextYears,\n} from '../../../../constants/result';\n\nimport { IResultText } from './types';\n\nimport styles from './ResultText.module.css';\n\nconst ResultText: React.FC<IResultText> = ({ store }) => {\n  return (\n    <h2>\n      {resultIn.rus} {store.chosenCountry} {resultText1.rus}{' '}\n      {store.chosenSex === formSexList.rus[0] ||\n      store.chosenSex === formSexList.eng[0]\n        ? resultTextMan.rus\n        : ''}\n      {store.chosenSex === formSexList.rus[1] ||\n      store.chosenSex === formSexList.eng[1]\n        ? resultTextWoman.rus\n        : ''}\n      {store.chosenSex === formSexList.eng[2] ||\n      store.chosenSex === formSexList.rus[2]\n        ? ''\n        : ''}{' '}\n      {resultTextIs.rus}{' '}\n      <span className={styles.color}>{store.valueYears}</span>{' '}\n      {resultTextYears.rus}.\n      <br />\n      {resultTextData.rus} {resultTextWho.rus} {resultTextFor.rus}{' '}\n      {store.statYear} {resultTextYearRus.rus}.\n      <br />\n      {store.chosenSex === formSexList.rus[0] ||\n      store.chosenSex === formSexList.eng[0] ||\n      store.chosenSex === formSexList.eng[2] ||\n      store.chosenSex === formSexList.rus[2]\n        ? resultTextLivedMan.rus\n        : ''}{' '}\n      {store.chosenSex === formSexList.rus[1] ||\n      store.chosenSex === formSexList.eng[1]\n        ? resultTextLivedWoman.rus\n        : ''}{' '}\n      <span className={styles.color}>{store.userYears.toFixed(1)}</span>{' '}\n      {resultTextYears.rus}, {resultTextCons.rus}{' '}\n      <span className={styles.color}>\n        {((store.userYears / store.valueYears) * 100).toFixed(1)}%\n      </span>{' '}\n      {resultTextAfterPers.rus}.\n    </h2>\n  );\n};\n\nexport default ResultText;\n","import React from 'react';\nimport { useDispatch } from 'react-redux';\n\nimport { resultButton } from '../../constants/result';\n\nimport { openForm, openResult } from '../../store/MainReducer/actions';\n\nimport Button from '../../ui/Button';\nimport WeeksTable from '../WeeksTable';\n\nimport { IResult } from './types';\n\nimport styles from './Result.module.css';\nimport ResultText from './assets/ResultText';\n\nconst Result: React.FC<IResult> = ({ store }) => {\n  const dispatch = useDispatch();\n\n  const backHandler = () => {\n    dispatch(openResult(false));\n    dispatch(openForm(true));\n  };\n\n  return (\n    <div className={styles.resultWrapper}>\n      <ResultText store={store} />\n      <div className={styles.tableWrapper}>\n        <WeeksTable valueYears={store.valueYears} userYears={store.userYears} />\n      </div>\n\n      <Button\n        buttonText={resultButton.rus}\n        buttonOnClickHandler={backHandler}\n      />\n    </div>\n  );\n};\n\nexport default Result;\n","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport { InitialMainReducerType } from '../../store/MainReducer/types';\n\nimport { AppStateType } from '../../store/RootReducer';\n\nimport Disclaimer from '../Disclaimer';\nimport Form from '../Form';\nimport Result from '../Result';\n\nimport styles from './App.module.css';\n\nfunction App() {\n  const storeState = useSelector<AppStateType, InitialMainReducerType>(\n    (store) => store.main,\n  );\n\n  return (\n    <div className={styles.appWrapper}>\n      {!storeState.formFlag && !storeState.resultFlag && <Disclaimer />}\n\n      {storeState.formFlag && !storeState.resultFlag && (\n        <Form store={storeState} />\n      )}\n\n      {!storeState.formFlag && storeState.resultFlag && (\n        <Result store={storeState} />\n      )}\n    </div>\n  );\n}\n\nexport default App;\n","import {\n  OPEN_FORM,\n  CHOSE_COUNTRY,\n  CHOSE_SEX,\n  SAVE_RESULT,\n  CHOSE_BIRTH_DATE,\n  OPEN_RESULT,\n} from './constants';\nimport { formSexList } from '../../constants/form';\n\nimport data from '../../data/data.json';\n\nimport { InitialMainReducerType } from './types';\n\nimport { ActionsType } from './actions';\n\nconst dataCountriesList = Array.from(\n  new Set(data.fact.map((el) => el.dims.COUNTRY)),\n);\n\nconst InitialState: InitialMainReducerType = {\n  formFlag: false,\n  resultFlag: false,\n  countriesList: dataCountriesList,\n  chosenCountry: dataCountriesList[0],\n  chosenSex: formSexList.rus[0],\n  valueYears: 0,\n  statYear: 0,\n  currentDate: new Date(),\n  birthDate: new Date(),\n  userYears: 0,\n};\n\nexport const MainReducer = (\n  state = InitialState,\n  action: ActionsType,\n): typeof state => {\n  switch (action.type) {\n    case OPEN_FORM:\n      return { ...state, formFlag: action.formFlag };\n\n    case OPEN_RESULT:\n      return { ...state, resultFlag: action.resultFlag };\n\n    case CHOSE_COUNTRY:\n      return { ...state, chosenCountry: action.chosenCountry };\n\n    case CHOSE_SEX:\n      return { ...state, chosenSex: action.chosenSex };\n\n    case SAVE_RESULT:\n      return {\n        ...state,\n        valueYears: action.valueYears,\n        statYear: action.statYear,\n      };\n\n    case CHOSE_BIRTH_DATE:\n      const end = state.currentDate.getTime();\n      const start = action.birthDate.getTime();\n      const userYears = (end - start) / 1000 / 60 / 60 / 24 / 365;\n      return { ...state, birthDate: action.birthDate, userYears: userYears };\n\n    default:\n      return state;\n  }\n};\n","import { combineReducers } from 'redux';\nimport { MainReducer } from './MainReducer/MainReducer';\n\nexport const RootReducer = combineReducers({\n  main: MainReducer,\n});\n\nexport type AppStateType = ReturnType<typeof RootReducer>;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { compose, createStore } from 'redux';\n\nimport App from './components/App';\nimport { RootReducer } from './store/RootReducer';\n\nimport './index.css';\n\ndeclare global {\n  interface Window {\n    __REDUX_DEVTOOLS_EXTENSION_COMPOSE__?: typeof compose;\n  }\n}\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\nconst store = createStore(RootReducer, composeEnhancers());\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}